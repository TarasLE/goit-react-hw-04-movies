(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{67:function(e,t,a){e.exports={MoviePageContainer:"MoviesPage_MoviePageContainer__VJNbh",SearchInput:"MoviesPage_SearchInput__3_ZOv",SearchButton:"MoviesPage_SearchButton__cL0SU",SearchItem:"MoviesPage_SearchItem__3jKJX"}},83:function(e,t,a){"use strict";a.r(t);var s=a(31),c=a.n(s),n=a(32),r=a(33),o=a(34),i=a(37),h=a(36),u=a(0),l=a(35),p=a.n(l),m=a(9),v=a(2),f=a(67),d=a.n(f),j=a(1),b=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchName:"",searchResult:null},e.handleInput=function(t){t.preventDefault(),e.setState({searchName:t.currentTarget.value})},e.handleSubmit=function(t){e.state.searchName.trim()?(t.preventDefault(),e.searchMovies(e.state.searchName)):t.preventDefault()},e.searchMovies=function(){var t=Object(n.a)(c.a.mark((function t(a){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("https://api.themoviedb.org/3/search/movie?api_key=189de549f8a757089f82fa92809038d7&query=".concat(a,"&language=en-US&page=1&include_adult=false"));case 2:s=t.sent,e.setState({searchResult:s.data.results}),e.props.location.state={searchName:e.state.searchName};case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state&&(this.setState({searchName:this.props.location.state.searchName}),this.searchMovies(this.props.location.state.searchName))}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:d.a.MoviePageContainer,children:[Object(j.jsxs)("form",{children:[Object(j.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:this.handleInput,className:d.a.SearchInput}),Object(j.jsx)("button",{type:"submit",onClick:this.handleSubmit,className:d.a.SearchButton,children:Object(j.jsx)("span",{children:"Search"})})]}),this.state.searchResult&&Object(j.jsx)("ul",{children:this.state.searchResult.map((function(t){return Object(j.jsx)("li",{children:Object(j.jsx)(m.b,{to:{pathname:"".concat(e.props.match.url,"/").concat(t.id),state:{from:e.props.location,searchName:e.state.searchName}},children:Object(j.jsx)("p",{className:d.a.SearchItem,children:t.title})})},t.id)}))})]})}}]),a}(u.Component);t.default=Object(v.f)(b)}}]);
//# sourceMappingURL=movie-page.06572b91.chunk.js.map