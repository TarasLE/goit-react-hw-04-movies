{"version":3,"sources":["components/MoviesPage/MoviesPage.module.css","components/MoviesPage/MoviesPage.js"],"names":["module","exports","MoviesPage","state","searchName","searchResult","handleInput","event","preventDefault","setState","currentTarget","value","handleSubmit","trim","searchMovies","movie","a","Axios","get","response","data","results","props","location","this","className","styles","MoviePageContainer","type","autoComplete","autoFocus","placeholder","onChange","SearchInput","onClick","SearchButton","map","to","pathname","match","url","id","from","SearchItem","title","Component","withRouter"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,mBAAqB,uCAAuC,YAAc,gCAAgC,aAAe,iCAAiC,WAAa,iC,kKCKnLC,E,4MACFC,MAAQ,CACJC,WAAY,GACZC,aAAc,M,EAGlBC,YAAc,SAACC,GACXA,EAAMC,iBACN,EAAKC,SAAS,CAAEL,WAAYG,EAAMG,cAAcC,S,EAGpDC,aAAe,SAACL,GACS,EAAKJ,MAAMC,WAAWS,QAEvCN,EAAMC,iBACN,EAAKM,aAAa,EAAKX,MAAMC,aAE7BG,EAAMC,kB,EAKdM,a,uCAAe,WAAOC,GAAP,eAAAC,EAAA,sEACYC,IAAMC,IAAN,mGACyEH,EADzE,+CADZ,OACLI,EADK,OAIX,EAAKV,SAAS,CAAEJ,aAAcc,EAASC,KAAKC,UAC5C,EAAKC,MAAMC,SAASpB,MAAQ,CAAEC,WAAY,EAAKD,MAAMC,YAL1C,2C,6GAQf,WACQoB,KAAKF,MAAMC,SAASpB,QACpBqB,KAAKf,SAAS,CAAEL,WAAYoB,KAAKF,MAAMC,SAASpB,MAAMC,aACtDoB,KAAKV,aAAaU,KAAKF,MAAMC,SAASpB,MAAMC,e,oBAIpD,WAAU,IAAD,OACL,OACI,sBAAKqB,UAAWC,IAAOC,mBAAvB,UAEI,iCACI,uBACIC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,SAAUR,KAAKlB,YACfmB,UAAWC,IAAOO,cAGtB,wBACIL,KAAK,SACLM,QAASV,KAAKZ,aACda,UAAWC,IAAOS,aAHtB,SAKI,+CAGPX,KAAKrB,MAAME,cACR,6BACKmB,KAAKrB,MAAME,aAAa+B,KAAI,SAACrB,GAAD,OACzB,6BACI,cAAC,IAAD,CACIsB,GAAI,CACAC,SAAS,GAAD,OAAK,EAAKhB,MAAMiB,MAAMC,IAAtB,YAA6BzB,EAAM0B,IAC3CtC,MAAO,CACHuC,KAAM,EAAKpB,MAAMC,SACjBnB,WAAY,EAAKD,MAAMC,aALnC,SASI,mBAAGqB,UAAWC,IAAOiB,WAArB,SACK5B,EAAM6B,WAXV7B,EAAM0B,gB,GA9DlBI,aAqFVC,sBAAW5C","file":"static/js/movie-page.06572b91.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviePageContainer\":\"MoviesPage_MoviePageContainer__VJNbh\",\"SearchInput\":\"MoviesPage_SearchInput__3_ZOv\",\"SearchButton\":\"MoviesPage_SearchButton__cL0SU\",\"SearchItem\":\"MoviesPage_SearchItem__3jKJX\"};","import { React, Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Axios from 'axios'\r\nimport { withRouter, NavLink } from 'react-router-dom'\r\nimport styles from './MoviesPage.module.css'\r\n\r\nclass MoviesPage extends Component {\r\n    state = {\r\n        searchName: '',\r\n        searchResult: null,\r\n    }\r\n\r\n    handleInput = (event) => {\r\n        event.preventDefault()\r\n        this.setState({ searchName: event.currentTarget.value })\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        const currentInput = this.state.searchName.trim()\r\n        if (currentInput) {\r\n            event.preventDefault()\r\n            this.searchMovies(this.state.searchName)\r\n        } else {\r\n            event.preventDefault()\r\n            return\r\n        }\r\n    }\r\n\r\n    searchMovies = async (movie) => {\r\n        const response = await Axios.get(\r\n            `https://api.themoviedb.org/3/search/movie?api_key=189de549f8a757089f82fa92809038d7&query=${movie}&language=en-US&page=1&include_adult=false`\r\n        )\r\n        this.setState({ searchResult: response.data.results })\r\n        this.props.location.state = { searchName: this.state.searchName }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.state) {\r\n            this.setState({ searchName: this.props.location.state.searchName })\r\n            this.searchMovies(this.props.location.state.searchName)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.MoviePageContainer}>\r\n                {/* <h1>\"MoviesPage\"</h1> */}\r\n                <form>\r\n                    <input\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search movies\"\r\n                        onChange={this.handleInput}\r\n                        className={styles.SearchInput}\r\n                    />\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        onClick={this.handleSubmit}\r\n                        className={styles.SearchButton}\r\n                    >\r\n                        <span>Search</span>\r\n                    </button>\r\n                </form>\r\n                {this.state.searchResult && (\r\n                    <ul>\r\n                        {this.state.searchResult.map((movie) => (\r\n                            <li key={movie.id}>\r\n                                <NavLink\r\n                                    to={{\r\n                                        pathname: `${this.props.match.url}/${movie.id}`,\r\n                                        state: {\r\n                                            from: this.props.location,\r\n                                            searchName: this.state.searchName,\r\n                                        },\r\n                                    }}\r\n                                >\r\n                                    <p className={styles.SearchItem}>\r\n                                        {movie.title}\r\n                                    </p>\r\n                                </NavLink>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MoviesPage)\r\n"],"sourceRoot":""}